# 포커스팟 프로젝트 구조 제안

## 기술 스택
- **프레임워크**: Next.js 14 (App Router)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **지도 API**: 네이버 지도 API 또는 카카오맵 API
- **상태 관리**: Zustand (경량 상태 관리)
- **폼 관리**: React Hook Form
- **HTTP 클라이언트**: Axios 또는 Fetch API
- **데이터베이스**: (향후) PostgreSQL + Prisma ORM
- **인증**: (향후) NextAuth.js

## 폴더 구조

```
prd/
├── app/                          # Next.js App Router
│   ├── layout.tsx               # 루트 레이아웃
│   ├── page.tsx                 # 메인 페이지 (지도 화면)
│   ├── cafe/
│   │   └── [id]/
│   │       └── page.tsx        # 카페 상세 페이지
│   ├── api/                     # API 라우트
│   │   ├── cafes/
│   │   │   ├── route.ts        # 카페 목록 조회
│   │   │   └── [id]/
│   │   │       ├── route.ts    # 카페 상세 조회
│   │   │       └── update/route.ts  # 실시간 정보 업데이트
│   │   └── filters/route.ts    # 필터 조건 조회
│   └── globals.css              # 전역 스타일
├── components/                   # 재사용 컴포넌트
│   ├── map/
│   │   ├── MapContainer.tsx    # 지도 컨테이너
│   │   ├── CafeMarker.tsx      # 카페 마커 컴포넌트
│   │   └── MapControls.tsx     # 지도 컨트롤
│   ├── filter/
│   │   ├── FilterBar.tsx       # 필터 바 컴포넌트
│   │   ├── FilterButton.tsx    # 필터 버튼
│   │   └── FilterModal.tsx     # 필터 모달
│   ├── cafe/
│   │   ├── CafeCard.tsx        # 카페 카드 (하단 요약 정보)
│   │   ├── CafeDetail.tsx      # 카페 상세 정보
│   │   ├── StatusUpdate.tsx    # 실시간 상태 업데이트 버튼
│   │   └── CafeInfo.tsx        # 카페 기본 정보
│   └── ui/                      # 공통 UI 컴포넌트
│       ├── Button.tsx
│       ├── Modal.tsx
│       └── Loading.tsx
├── lib/                          # 유틸리티 및 설정
│   ├── api/
│   │   ├── client.ts           # API 클라이언트 설정
│   │   └── cafes.ts            # 카페 관련 API 함수
│   ├── hooks/
│   │   ├── useGeolocation.ts   # 위치 정보 훅
│   │   ├── useCafes.ts         # 카페 데이터 훅
│   │   └── useFilters.ts       # 필터 훅
│   ├── utils/
│   │   ├── distance.ts         # 거리 계산 유틸
│   │   ├── format.ts           # 포맷팅 유틸
│   │   └── validation.ts       # 유효성 검사
│   └── types/
│       ├── cafe.ts             # 카페 타입 정의
│       ├── filter.ts           # 필터 타입 정의
│       └── api.ts              # API 응답 타입
├── store/                        # 상태 관리 (Zustand)
│   ├── cafeStore.ts            # 카페 상태 관리
│   ├── filterStore.ts          # 필터 상태 관리
│   └── mapStore.ts             # 지도 상태 관리
├── public/                       # 정적 파일
│   ├── icons/                  # 아이콘
│   └── images/                 # 이미지
├── docs/                        # 문서
│   └── task/                   # 작업 문서
├── .env.local                   # 환경 변수
├── .env.example                 # 환경 변수 예시
├── next.config.js               # Next.js 설정
├── tailwind.config.ts           # Tailwind 설정
├── tsconfig.json                # TypeScript 설정
└── package.json                 # 의존성 관리
```

## 필요한 라이브러리 목록

### 핵심 의존성
```json
{
  "dependencies": {
    "next": "^14.0.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "typescript": "^5.2.0"
  }
}
```

### 스타일링
```json
{
  "devDependencies": {
    "tailwindcss": "^3.3.0",
    "postcss": "^8.4.0",
    "autoprefixer": "^10.4.0"
  }
}
```

### 상태 관리
```json
{
  "dependencies": {
    "zustand": "^4.4.0"
  }
}
```

### 폼 관리
```json
{
  "dependencies": {
    "react-hook-form": "^7.48.0",
    "@hookform/resolvers": "^3.3.0",
    "zod": "^3.22.0"
  }
}
```

### HTTP 클라이언트
```json
{
  "dependencies": {
    "axios": "^1.6.0"
  }
}
```

### 지도 API (선택)
- 네이버 지도 API: `@types/navermaps` (타입 정의)
- 또는 카카오맵 API: 직접 스크립트 로드

### 유틸리티
```json
{
  "dependencies": {
    "date-fns": "^2.30.0",
    "clsx": "^2.0.0"
  },
  "devDependencies": {
    "@types/node": "^20.8.0"
  }
}
```

## 개발 환경 설정

### 필수 환경 변수
```env
# .env.local
NEXT_PUBLIC_MAP_API_KEY=your_map_api_key
NEXT_PUBLIC_API_URL=http://localhost:3000/api
```

## 주요 컴포넌트 설명

### 1. MapContainer
- 지도 API를 래핑하는 메인 지도 컴포넌트
- 카페 마커 표시 및 지도 이벤트 처리

### 2. FilterBar
- 작업 환경 필터 UI (콘센트, 소음, 의자 등)
- 필터 상태에 따라 카페 목록 필터링

### 3. CafeCard
- 지도 하단에 표시되는 카페 요약 정보 카드
- 카페 클릭 시 상세 페이지로 이동

### 4. StatusUpdate
- 실시간 소음/혼잡 상태 업데이트 버튼
- 한 번의 클릭으로 상태 업데이트

## 다음 단계
1. Next.js 프로젝트 초기화
2. 기본 폴더 구조 생성
3. 필수 라이브러리 설치
4. 첫 번째 기능 개발 시작

