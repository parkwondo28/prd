# 포커스팟 (FocusSpot) v1.1.0

## 버전 정보
- **버전**: 1.1.0
- **작성일**: 2024년
- **변경 사항**: 지도 API를 react-leaflet + OpenStreetMap으로 변경

## 변경 이력
- v1.0.0 → v1.1.0: 지도 API 변경 (카카오맵 API → react-leaflet + OpenStreetMap)

## 주요 변경 사항

### 기술 스택 변경
- **이전**: 카카오맵 API (API 키 필요)
- **현재**: react-leaflet + OpenStreetMap (API 키 불필요)

### 기술 스택 상세
- **프레임워크**: Next.js 14 (App Router)
- **언어**: TypeScript
- **스타일링**: Tailwind CSS
- **지도 라이브러리**: 
  - react-leaflet: ^5.0.0 (React용 Leaflet 래퍼)
  - leaflet: ^1.9.4 (지도 렌더링 엔진)
  - @types/leaflet: ^1.9.21 (TypeScript 타입 정의)
- **지도 타일**: OpenStreetMap
  - URL: https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png

### 선택 이유
- ✅ API 키 불필요 (완전 무료)
- ✅ 한국 지도 타일 지원
- ✅ React와 통합 용이
- ✅ 커스터마이징 가능
- ✅ 모바일/데스크톱 지원
- ✅ 오픈소스 (지속적인 업데이트)

## 1. Overview

### Problem Statement

* **문제 정의**: 집에서 집중이 안 되어 카페를 찾는 20-30대 카공족과 프리랜서들이 음악 소리나 혼잡도 정보를 미리 알지 못해 적합한 작업 공간을 찾는 데 시간을 낭비하는 문제를 해결합니다.
* **왜 중요한가**: 기존 지도 서비스는 인테리어 중심의 정보를 제공하여 '작업 환경'에 대한 실질적 정보를 얻기 어렵습니다. 이는 이동 시간 낭비와 업무 효율 저하로 이어집니다.
* **타겟 고객**: 노트북을 주로 사용하는 20대 대학생 및 취준생, 30대 프리랜서 및 원격 근무자.
* **전략적 적합성**: 1인 가구 밀집 지역의 생활 밀착형 서비스를 지향하며, 공간 탐색의 새로운 기준(작업 효율)을 제시합니다.
* **핵심 전제/가정**: 사용자는 헛걸음을 방지하기 위해 실시간 정보를 신뢰하며, 본인 또한 1초 내외의 간단한 액션으로 정보를 공유할 의사가 있습니다.

### Proposed Work

* **솔루션 개요**: 인테리어보다 '작업 효율'에 집중된 데이터를 제공하고, 사용자 간 실시간 소음 및 혼잡도를 공유하는 위치 기반 서비스입니다.
* **핵심 기능**:
* **작업 맞춤형 필터**: 콘센트 개수, 의자 편안함, 소음 수준 등 조건별 검색.
* **실시간 정보 공유**: 현재 카페 이용자가 버튼 하나로 소음/혼잡 상태 업데이트.
* **숨은 명소 큐레이션**: 유명 체인점 대신 작업하기 좋은 골목길 카페 우선 노출.


* **사용자 플로우**:
1. **[메인 지도 화면] → [위치 권한 허용 및 접속] → [현재 내 주변의 카페들이 지도 위에 핀으로 표시됨]**
2. **[필터 바] → ['콘센트 많음', '조용한 음악' 선택] → [조건에 맞는 카페만 지도에 남고 나머지는 필터링됨]**
3. **[카페 마커 클릭] → [화면 하단 요약 정보 창 등장] → [이름, 거리, 현재 소음도 확인]**
4. **[카페 상세 페이지] → [상세 정보 확인] → [콘센트 위치, 의자 타입, 마지막 정보 업데이트 시간 확인]**
5. **[길 찾기 버튼] → [외부 지도 앱 연결] → [카페로 이동 및 도착]**
6. **[상세 페이지 내 '지금 여기는?' 영역] → ['조용함' 등 상태 버튼 클릭] → [실시간 정보 즉시 업데이트 및 타 사용자 공유]**



## 2. Decision / Risk

### Stakeholders

* **직접 이해관계자**: 서비스 이용자(카공족/프리랜서), 앱 운영팀(PM, 개발자, 디자이너).
* **간접 이해관계자**: 카페 점주, 지도 데이터 제공사(OpenStreetMap).

### Risk

* **데이터 신뢰도 저하**: 사용자가 장난으로 정보를 입력하거나 업데이트가 뜸해질 위험. (가능성: 높음 / 영향: 높음)
* **대응 방안**: 마지막 업데이트 시간을 강조하여 표시하고, 여러 명의 보고가 일치할 때 신뢰 마크 부여.


* **점주와의 마찰**: 카공족을 선호하지 않는 점주가 앱 등록에 반발할 위험. (가능성: 중간 / 영향: 중간)
* **대응 방안**: '카공 환영' 스티커를 부착한 카페를 우선 노출하거나 점주가 직접 정보를 관리하는 채널 마련.


* **지도 타일 로딩 속도**: OpenStreetMap 타일이 일부 지역에서 느릴 수 있음. (가능성: 낮음 / 영향: 낮음)
* **대응 방안**: 타일 캐싱 및 대체 타일 서버 사용 고려.

### Dependencies

* **외부 서비스**: 위치 표시를 위한 OpenStreetMap 타일 서비스 (API 키 불필요).
* **필요 데이터**: 전국 카페 기본 정보(공공데이터 활용) 및 작업 환경 특화 데이터(초기 수동 수집).
* **필요 인력**: 위치 기반 서비스 구현이 가능한 앱 개발자 1인, UI/UX 디자이너 1인.

## 3. Success Criteria

### 핵심 지표 (2-3개)

* **지표명**: 목표 지역 내 월간 활성 사용자 수(MAU)
* **측정 방법**: 마포구/강남구 등 특정 지역 내 접속자 수 집계.
* **목표 수치**: 출시 후 3개월 내 1,000명.


* **지표명**: 실시간 정보 참여율
* **측정 방법**: (실시간 버튼 클릭 수 / 상세 페이지 조회 수) * 100.
* **목표 수치**: 10% 이상 달성.



### 보조 지표

* 필터 사용 빈도, 카페 상세 페이지 체류 시간, 즐겨찾기(저장) 버튼 클릭 수.

## 4. Definition of Done

### 필수 조건 (Done)

* 내 주변 위치 기반 카페 마커 표시 기능.
* 작업 환경 맞춤 필터(3종 이상) 정상 작동.
* 버튼 터치 한 번으로 실시간 소음 상태가 반영되는 시스템.

### 개선 필요 (but 출시 가능)

* 카페별 상세 메뉴 사진 및 가격 정보.
* 사용자 활동에 따른 칭호나 레벨 시스템.

### 치명적 (출시 불가)

* 지도 상의 카페 위치가 실제와 50m 이상 차이 나는 경우.
* 실시간 정보 업데이트가 서버에 반영되지 않는 오류.
* 회원가입 및 위치 정보 수집에 대한 법적 고지 누락.

## 5. Nope (하지 않을 것)

* **기능명**: 사용자 간 실시간 채팅/커뮤니티
* **이유**: 작업 집중이라는 본질을 흐릴 수 있으며 관리 리소스가 큼.
* **대안**: 카페에 대한 20자 내외의 짧은 '한 줄 평' 기능만 제공.
* **재고려 시점**: 충분한 유저 확보 후 '스터디 모집' 니즈가 확인될 때.


* **기능명**: 앱 내 결제 및 예약
* **이유**: 점주와의 직접적인 시스템 연동이 필요하여 초기 구현 복잡도 높음.
* **대안**: 전화 걸기 버튼이나 네이버 예약 페이지 링크 연결.
* **재고려 시점**: 서비스 안정화 이후 수익 모델 검토 단계.



## 6. Post-Launch Plan

### v1.1 (Quick Wins)

* 공유 버튼 클릭 시 감사 메시지 팝업 노출 (기여 만족도 향상).
* 지도 로딩 속도 최적화 및 저사양 기기 대응.

### v2 (Major Features)

* **점주용 공식 계정**: 점주가 직접 '현재 빈 좌석 수'를 업데이트하고 혜택을 등록하는 기능.
* **지역 확장**: 서울 전역 및 수도권 주요 대학가로 서비스 범위 확대.

### v3+ (Vision)

* **AI 혼잡도 예측**: 과거 데이터를 분석하여 요일/시간별 예상 소음도를 미리 보여주는 기능.
* **공간 큐레이션 플랫폼**: 카페를 넘어 도서관, 공유 오피스 등 '작업하기 좋은 모든 공간'을 아우르는 서비스로 확장.

